"use strict";angular.module("babelBlogsApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider","$locationProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",role:"homepage"}).when("/sign-in",{templateUrl:"views/sign-in.html",controller:"SignInCtrl"}).when("/sign-up",{templateUrl:"views/sign-up.html",controller:"SignUpCtrl"}).when("/tour",{templateUrl:"views/tour.html"}).when("/features",{templateUrl:"views/features.html"}).when("/templates",{templateUrl:"views/templates.html"}).when("/pricing",{templateUrl:"views/pricing.html"}).when("/about",{templateUrl:"views/about.html"}).when("/blog",{templateUrl:"views/blog.html",controller:"BlogCtrl"}).when("/blog/:id",{templateUrl:"views/blog-entry.html",controller:"BlogEntryCtrl"}).when("/faq",{templateUrl:"views/faq.html",controller:"FAQCtrl"}).when("/privacy",{templateUrl:"views/privacy.html"}).when("/terms",{templateUrl:"views/terms.html"}).when("/content-policy",{templateUrl:"views/content-policy.html"}).when("/contact",{templateUrl:"views/contact.html"}).otherwise({redirectTo:"/"})}]),angular.module("babelBlogsApp").controller("GlobalCtrl",["$scope","$location","ui","user",function(a,b,c,d){a.ui=c,a.ui.showMenu=!1,a.ui.homePage=!1,a.user=d,a.ui.homePage="/"===b.path()?!0:!1;a.hideMenu=function(){},a.toggleMenu=function(){a.ui.showMenu?(a.ui.showMenu=!1,a.hideMenu=function(){}):a.ui.showMenu=!0},a.logOut=function(){a.user.logOut(),b.path("/login")}}]).controller("SignInCtrl",["$scope","$location","user",function(a,b,c){a.user=c,function(){c.current()&&(a.user.isLogin=!1,b.path("/"),alert("You are currently logged"))}(),a.SignIn=function(){if(c.current())b.path("/");else{if(!a.login.name)return alert("Missing User Name","Please provide a valid user name."),void a.hide();if(!a.login.password)return alert("Missing Password","Please provide a password."),void a.hide();c.logIn(a.login.name,a.login.password).then(function(){a.user.isLogin=!0,a.login.password="",a.login.name="",b.path("/"),a.$apply()},function(b){a.user.isLogin=!1,alert("Error: "+b.message),a.login.password=""})}}}]).controller("SignUpCtrl",["$scope","$location","user",function(a,b,c){a.user=c,a.newUser={},function(){c.current()&&(a.user.isLogin=!1,b.path("/"))}(),a.go=function(a){b.path(a)},a.SignUp=function(){var c=new Parse.User;return a.newUser.name?a.newUser.email?a.newUser.password?(c.set("username",a.newUser.name),c.set("email",a.newUser.email),c.set("password",a.newUser.password),c.set("birthday",a.newUser.birthday),c.set("gender",a.newUser.gender),void c.signUp(null).then(function(){a.newUser={},b.path("/"),a.$apply()},function(a){alert("Error:"+a.message)})):void alert("Missing password","Please provide a password."):void alert("Missing E-mail","Please provide a valid e-mail."):void alert("Missing user name","Please provide a valid user name.")}}]).controller("LogOutCtrl",["$scope","$location","user",function(a,b,c,d){a.user=d,a.user.logOut(),b.path("/login"),a.hide()}]).controller("MainCtrl",["$scope","$rootScope","$location","ui",function(a,b,c,d){a.ui=d,a.ui.homePage=!0,a.ui.showMenu=!1,b.$on("$routeChangeStart",function(b,c){a.ui.showMenu=!1,a.ui.homePage="/"===c.originalPath&&"/"===c.redirectTo?!0:!1})}]).controller("TestimonialsCtrl",["$scope",function(a){a.testimonials=[{id:0,testimonial:"I only speak <strong>Indonesian</strong> but my blog can speaks over 40-different languages!",image:"images/people04.png"},{id:1,testimonial:"My <strong>soccer blog</strong> has fallowers from all over the world. Thanks to Babel Blogs",image:"images/people05.png"},{id:2,testimonial:"My business just became <strong>International</strong>, and now, so is my website. Thanks to Babel Blogs",image:"images/people06.png"}]}]).controller("BlogCtrl",["$scope","blogPosts",function(a,b){a.articles=b.articles}]).controller("BlogEntryCtrl",["$scope","$routeParams","blogPosts",function(a,b,c){a.article=c.articles[b.id]}]).controller("FAQCtrl",["$scope",function(a){a.questions=[{id:0,question:"If this then that?",answer:"Yes"},{id:1,question:"If this then that?",answer:"No"},{id:2,question:"If this then that?",answer:"Maybe"},{id:3,question:"If this then that?",answer:"You are right"},{id:4,question:"If this then that?",answer:"Look at this post..."}]}]),angular.module("babelBlogsApp").factory("ui",function(){return{showMenu:!1,homePage:!0}}).factory("blogPosts",function(){var a="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod<br/>tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,<br/> quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo<br/>	consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse<br/>cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non<br/>proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";return{articles:[{id:0,author:"Christian H.",title:"New features in BabelBlog core.",content:a,pub_date:"2013-12-31",updated:"2013-12-31"},{id:1,author:"Joe C.",title:"New features in BabelBlog core.",content:a,pub_date:"2013-12-31",updated:"2013-12-31"},{id:2,author:"Amanda L.",title:"New features in BabelBlog core.",content:a,pub_date:"2013-12-31",updated:"2013-12-31"}]}}).factory("user",["$location","$rootScope",function(a,b){return{logIn:function(a,c){return b.$broadcast("event:sessionUpdated"),Parse.User.logIn(a,c)},logOut:function(){Parse.User.logOut(),b.$broadcast("event:sessionUpdated"),this.isLogin=!1},current:function(){return Parse.User.current()},isAuthenticated:function(){return Parse.User.current()?(this.isLogin=!0,!0):(this.isLogin=!1,!1)},isLogin:!1}}]),angular.module("babelBlogsApp").directive("nguiNav",["$location",function(a){return{restrict:"A",link:function(b,c){var d=a.path(),e="";e="/"!==d?d.replace("/","#"):d,c.find('a[ng-href="'+e+'"]').parent().addClass("active")},templateUrl:"scripts/directives/_nav.html",replace:!0}}]).directive("nguiPushMenu",["$rootScope","$location",function(a,b){return{restrict:"A",link:function(c,d){var e=function(){var a=b.path(),c="";c="/"!==a?a.replace("/","#"):a,d.find("li").removeClass("active"),d.find('a[ng-href="'+c+'"]').parent().addClass("active")};e(),a.$on("$routeChangeStart",function(a,b){"/"===b.originalPath&&"/"===b.redirectTo||e()})},templateUrl:"scripts/directives/_push_right_menu.html",replace:!0}}]).directive("nguiAccordion",function(){return{restrict:"A",link:function(a,b){console.log("Accordion: "+b),console.log("QuestionField: "+b.data("question-field")),console.log("AnswerField: "+b.data("answer-field")),console.log("QuestionList: "+b.data("question-list")),console.log("QuestionList: "+a[b.data("question-list")]),b.on("click",".panel",function(){console.log("AccordionClicked: "),$(this).find(".collapse").toggleClass("in")});var c=b.data("question-field"),d=b.data("answer-field"),e='"'+c+'":',f='"'+d+'":',g=new RegExp(e,"g"),h=new RegExp(f,"g");a.accordionItems=JSON.parse(JSON.stringify(a[b.data("question-list")]).replace(g,'"title":').replace(h,'"description":')),console.log("scope.accordionItems: "+a.accordionItems)},templateUrl:"scripts/directives/_accordion.html",replace:!0}});